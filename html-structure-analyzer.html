<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>HTML êµ¬ì¡° ë¶„ì„ê¸°</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #ffffff;
            color: #000000;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #000000;
            color: #ffffff;
            padding: 24px;
            font-size: 1.75rem;
            text-align: center;
            font-weight: 600;
        }

        main {
            max-width: 960px;
            margin: 40px auto;
            padding: 0 24px;
        }

        label {
            display: block;
            margin: 24px 0 8px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        textarea,
        input {
            width: 100%;
            padding: 12px;
            font-size: 1rem;
            border: 1px solid #000000;
            border-radius: 4px;
            resize: vertical;
            box-sizing: border-box;
        }

        textarea {
            min-height: 200px;
        }

        .button-group {
            margin-top: 24px;
            display: flex;
            gap: 16px;
        }

        button {
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            background-color: #000000;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button.reset {
            background-color: #ffffff;
            color: #000000;
            border: 1px solid #000000;
        }

        button:hover {
            opacity: 0.9;
        }

        button.reset:hover {
            background-color: #f0f0f0;
        }

        #results {
            margin-top: 40px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .result-card {
            background: #d3d3d3;
            padding: 16px;
            border-left: 4px solid #000000;
            border-radius: 4px;
            font-family: 'Inter', monospace;
        }

        .result-card pre {
            margin: 0;
            font-size: 0.95rem;
            white-space: pre-wrap;
        }

        .highlight {
            background-color: #fff176;
            font-weight: bold;
        }

        footer {
            background-color: #000000;
            color: #ffffff;
            text-align: center;
            padding: 16px 24px;
            font-size: 0.9rem;
            margin-top: 40px;
            border-top: 1px solid #444444;
        }

        footer a {
            color: #fff176;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>

    <header>HTML êµ¬ì¡° ë° ì •ë³´ ì¶”ì¶œê¸°</header>

    <main>
        <label for="htmlInput">1. HTML ì „ì²´ ì†ŒìŠ¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</label>
        <textarea id="htmlInput" placeholder="ì—¬ê¸°ì— HTML ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”..."></textarea>

        <label for="searchInput">2. ì°¾ê³  ì‹¶ì€ íƒœê·¸ëª…, í…ìŠ¤íŠ¸ ë˜ëŠ” ë¼ë²¨ ì…ë ¥:</label>
        <input id="searchInput" type="text" placeholder="ì˜ˆ: div, span, ë¡œê·¸ì¸, text ë“±" />

        <div class="button-group">
            <button onclick="findMatches()">ë¶„ì„ ì‹œì‘</button>
            <button class="reset" onclick="resetForm()">ì´ˆê¸°í™”</button>
        </div>

        <div id="results"></div>
    </main>

    <script>
        function escapeHTML(str) {
            return str.replace(/[&<>"']/g, function (m) {
                return ({
                    '&': '&amp;',
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#039;'
                })[m];
            });
        }

        function highlightKeyword(text, keyword) {
            const regex = new RegExp(`(${keyword})`, 'gi');
            return escapeHTML(text).replace(regex, `<span class="highlight">$1</span>`);
        }

        function findMatches() {
            const htmlContent = document.getElementById('htmlInput').value;
            const keyword = document.getElementById('searchInput').value.trim().toLowerCase();
            const resultArea = document.getElementById('results');
            resultArea.innerHTML = "";

            if (!keyword) {
                resultArea.innerHTML = "<p>ğŸ” ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>";
                return;
            }

            const parser = new DOMParser();
            const doc = parser.parseFromString(htmlContent, 'text/html');
            const matches = [];

            function traverse(node, depth, path) {
                if (node.nodeType === Node.ELEMENT_NODE) {
                    const tag = node.tagName.toLowerCase();
                    const newPath = `${path} > ${tag}`;
                    const matchText = node.textContent?.trim().toLowerCase().includes(keyword);
                    const matchTag = tag.includes(keyword);

                    if (matchText || matchTag) {
                        matches.push({ node, path: newPath, depth });
                    }

                    for (let child of node.children) {
                        traverse(child, depth + 1, newPath);
                    }
                }
            }

            traverse(doc.body, 1, 'body');

            if (matches.length === 0) {
                resultArea.innerHTML = "<p>ğŸ” ì¼ì¹˜í•˜ëŠ” í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</p>";
                return;
            }

            const maxDepth = Math.max(...matches.map(m => m.depth));
            const deepMatches = matches.filter(m => m.depth === maxDepth);

            deepMatches.forEach((match, index) => {
                const el = match.node;
                const rawText = el.textContent?.trim() || "";
                const highlightedText = highlightKeyword(rawText, keyword);

                const json = {
                    index: index + 1,
                    tag: el.tagName?.toLowerCase() || null,
                    text: rawText,
                    path: match.path.trim()
                };

                if (el.id) json.id = el.id;
                if (el.className) json.class = el.className;
                if (el.tagName?.toLowerCase() === 'a') {
                    const href = el.getAttribute('href');
                    if (href) json.href = href;
                }
                const src = el.getAttribute?.('src');
                if (src) json.src = src;

                const card = document.createElement('div');
                card.className = 'result-card';

                let jsonText = JSON.stringify(json, null, 2);
                // í…ìŠ¤íŠ¸ ì˜ì—­ë§Œ í•˜ì´ë¼ì´íŠ¸ ì ìš©
                jsonText = jsonText.replace(
                    /"text": "(.*?)"/,
                    (_, txt) => `"text": "${highlightKeyword(txt, keyword)}"`
                );

                card.innerHTML = `<pre>${jsonText}</pre>`;
                resultArea.appendChild(card);
            });
        }

        function resetForm() {
            document.getElementById('htmlInput').value = '';
            document.getElementById('searchInput').value = '';
            document.getElementById('results').innerHTML = '';
        }

        document.getElementById('searchInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                findMatches();
            }
        });
    </script>


    <footer>
        <p>Â© 2025 devlunch4. All rights reserved.</p>
        <p>contact: <a href="mailto:devlunch4@gmail.com">devlunch4@gmail.com</a></p>
    </footer>
</body>

</html>
<!--
  HTML êµ¬ì¡° ë¶„ì„ê¸°
  - ì‚¬ìš©ìê°€ ì…ë ¥í•œ HTML ì½”ë“œì—ì„œ íŠ¹ì • íƒœê·¸ë‚˜ í…ìŠ¤íŠ¸ë¥¼ ê²€ìƒ‰í•˜ê³ ,
    ì¼ì¹˜í•˜ëŠ” í•­ëª©ì„ JSON í˜•íƒœë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.
  - ê²€ìƒ‰ì–´ëŠ” ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šìœ¼ë©°, HTML íŠ¹ìˆ˜ë¬¸ìëŠ” ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ë©ë‹ˆë‹¤.
  - ê²°ê³¼ëŠ” í•˜ì´ë¼ì´íŠ¸ ì²˜ë¦¬ë˜ì–´ ê°€ë…ì„±ì„ ë†’ì´ë©°, ìµœëŒ€ ê¹Šì´ì˜ ìš”ì†Œë§Œ í‘œì‹œë©ë‹ˆë‹¤.
  - ê° ê²°ê³¼ëŠ” íƒœê·¸ëª…, í…ìŠ¤íŠ¸, ê²½ë¡œ, ID, í´ë˜ìŠ¤, href, src ë“±ì˜ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
  - ê²°ê³¼ëŠ” JSON í¬ë§·ìœ¼ë¡œ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„ëœ ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œë©ë‹ˆë‹¤.
  - ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤:
    - HTML ì½”ë“œ ì…ë ¥ ì˜ì—­
    - ê²€ìƒ‰ì–´ ì…ë ¥ í•„ë“œ
    - ë¶„ì„ ì‹œì‘ ë° ì´ˆê¸°í™” ë²„íŠ¼
    - Enter í‚¤ ì…ë ¥ìœ¼ë¡œë„ ë¶„ì„ ê°€ëŠ¥
  - ê¸°ìˆ  êµ¬ì„±:
    - HTML, CSS, JavaScriptë¡œ êµ¬í˜„
    - DOMParserë¥¼ ì‚¬ìš©í•˜ì—¬ HTMLì„ íŒŒì‹±í•˜ê³  DOM íŠ¸ë¦¬ë¥¼ ìˆœíšŒ
    - ê²€ìƒ‰ì–´ëŠ” í…ìŠ¤íŠ¸ ë‚´ì—ì„œ í•˜ì´ë¼ì´íŒ… ì²˜ë¦¬
    - ê²°ê³¼ëŠ” ë™ì ìœ¼ë¡œ HTML ìš”ì†Œë¡œ ìƒì„±ë˜ì–´ í™”ë©´ì— í‘œì‹œë¨
  - í™œìš©ë„:
    - ì›¹ ê°œë°œì ë° ë””ìì´ë„ˆê°€ HTML êµ¬ì¡°ë¥¼ ì´í•´í•˜ê±°ë‚˜ íŠ¹ì • ìš”ì†Œë¥¼ ë¹ ë¥´ê²Œ ì°¾ëŠ” ë° ìœ ìš©
    - ì´ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê¸°ëŠ¥ ì¶”ê°€ ë° ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
-->